{"ast":null,"code":"var screenSaver = {};\n\nfunction startScreenSaver(options) {\n  //* attach event listeners to exit screensaver\n  attachScreenSaverEventListeners();\n\n  if (!screenSaver.initiated) {\n    //* set screensaver options\n    screenSaver.options = {\n      timeout: options.timeout || 60000,\n      //* default timer to start screensaver is 10 minutes\n      width: options.width || 25,\n      //* default width is 25rem\n      height: options.height || 25,\n      //* default height is 25rem\n      exitTimeout: options.exitTimeout || null //* default timer to exit screensaver is disabled\n\n    }; //* create elements\n\n    var overlay = document.createElement(\"div\");\n    overlay.setAttribute(\"class\", \"screensaver-overlay\");\n    document.body.appendChild(overlay);\n    var createBadge = document.createElement(\"div\");\n    createBadge.setAttribute(\"id\", \"saver-badge\");\n    document.body.appendChild(createBadge);\n    createBadge.style.width = screenSaver.options.width + \"rem\";\n    createBadge.style.height = screenSaver.options.height + \"rem\";\n  }\n\n  document.getElementsByTagName(\"body\")[0].classList.remove(\"screensaver\");\n  screenSaver.initiated = true;\n  screenSaver.setTimeoutValue = screenSaver.options.timeout;\n  screenSaver.setTimeoutExit = screenSaver.options.timeoutExit;\n  screenSaver.setTimeout = null; //* clear timeout\n\n  screenSaver.inProgress = false;\n  screenSaver.timerStarted = false;\n  clearTimeout(screenSaver.setTimeout);\n  screenSaver.setTimeout = setTimeout(function () {\n    document.getElementsByTagName(\"body\")[0].classList.add(\"screensaver\");\n    screenSaver.inProgress = true;\n    var saverBadge = document.getElementById(\"saver-badge\");\n    clearInterval(screenSaver.setInterval); //* clear badge display interval\n\n    screenSaver.setInterval = null; //* get dimensions in em\n\n    var windowHeight = window.outerHeight / parseFloat(window.getComputedStyle(document.getElementsByTagName(\"body\")[0], null).getPropertyValue(\"font-size\"));\n    var windowWidth = window.outerWidth / parseFloat(window.getComputedStyle(document.getElementsByTagName(\"body\")[0], null).getPropertyValue(\"font-size\"));\n    screenSaver.setInterval = setInterval(function () {\n      if (screenSaver.inProgress === true) {\n        saverBadge.classList.remove(\"visible\");\n        setTimeout(function () {\n          saverBadge.offsetWidth = saverBadge.offsetWidth;\n          saverBadge.classList.add(\"visible\");\n        }, 1);\n        var saverTopValue = Math.floor(Math.random() * windowHeight) - screenSaver.options.width;\n        var saverLeftValue = Math.floor(Math.random() * windowWidth) - screenSaver.options.height;\n\n        if (saverTopValue <= 0) {\n          //* make sure the badge doesn't go off the screen\n          saverTopValue = saverTopValue + 15;\n        }\n\n        if (saverLeftValue <= 0) {\n          saverLeftValue = saverLeftValue + 15;\n        }\n\n        saverBadge.style.top = saverTopValue + \"rem\";\n        saverBadge.style.left = saverLeftValue + \"rem\";\n\n        if (screenSaver.timerStarted === false && screenSaver.options.exitTimeout != null) {\n          startScreenSaverTimer();\n        }\n      }\n    }, 6000);\n  }, screenSaver.setTimeoutValue);\n}\n\nfunction startScreenSaverTimer() {\n  screenSaver.timerStarted = true;\n  setTimeout(function () {\n    stopScreenSaver();\n  }, screenSaver.setTimeoutExit);\n}\n\nfunction stopScreenSaver() {\n  startScreenSaver();\n  clearInterval(screenSaver.setInterval);\n  document.getElementsByTagName(\"body\")[0].classList.remove(\"screensaver\");\n  screenSaver.timerStarted = false;\n}\n\nfunction attachScreenSaverEventListeners() {\n  var events = [\"touchstart\", \"mousedown\", \"mousemove\", \"touchmove\", \"keypress\", \"scroll\"];\n\n  var resetScreenSaver = function (e) {\n    if (screenSaver.inProgress) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    clearTimeout(screenSaver.setTimeout);\n    clearInterval(screenSaver.setInterval);\n    document.getElementsByTagName(\"body\")[0].classList.remove(\"screensaver\");\n    startScreenSaver();\n  };\n\n  var checkClick = function (e) {\n    if (screenSaver.inProgress) {\n      startScreenSaver();\n    }\n  };\n\n  var bindEvents = function (eventName) {\n    document.addEventListener(eventName, screenSaver.initialize); //* bind click as fallback for touchstart and mousedown\n\n    document.addEventListener(\"click\", checkClick);\n  };\n\n  var unbindEvents = function (eventName) {\n    document.removeEventListener(eventName, screenSaver.initialize);\n  };\n\n  for (var i = 0; i < events.length; i++) {\n    bindEvents(events[i]);\n  }\n}","map":{"version":3,"sources":["/mnt/c/Users/antho/Desktop/ShopAR/src/js/screensaver.js"],"names":["screenSaver","startScreenSaver","options","attachScreenSaverEventListeners","initiated","timeout","width","height","exitTimeout","overlay","document","createElement","setAttribute","body","appendChild","createBadge","style","getElementsByTagName","classList","remove","setTimeoutValue","setTimeoutExit","timeoutExit","setTimeout","inProgress","timerStarted","clearTimeout","add","saverBadge","getElementById","clearInterval","setInterval","windowHeight","window","outerHeight","parseFloat","getComputedStyle","getPropertyValue","windowWidth","outerWidth","offsetWidth","saverTopValue","Math","floor","random","saverLeftValue","top","left","startScreenSaverTimer","stopScreenSaver","events","resetScreenSaver","e","stopPropagation","preventDefault","checkClick","bindEvents","eventName","addEventListener","initialize","unbindEvents","removeEventListener","i","length"],"mappings":"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","sourcesContent":["var screenSaver = {};\r\n\r\nfunction startScreenSaver(options) {\r\n  //* attach event listeners to exit screensaver\r\n  attachScreenSaverEventListeners();\r\n\r\n  if (!screenSaver.initiated) {\r\n    //* set screensaver options\r\n    screenSaver.options = {\r\n      timeout: options.timeout || 60000, //* default timer to start screensaver is 10 minutes\r\n\r\n      width: options.width || 25, //* default width is 25rem\r\n\r\n      height: options.height || 25, //* default height is 25rem\r\n\r\n      exitTimeout: options.exitTimeout || null, //* default timer to exit screensaver is disabled\r\n    };\r\n\r\n    //* create elements\r\n    var overlay = document.createElement(\"div\");\r\n\r\n    overlay.setAttribute(\"class\", \"screensaver-overlay\");\r\n\r\n    document.body.appendChild(overlay);\r\n\r\n    var createBadge = document.createElement(\"div\");\r\n\r\n    createBadge.setAttribute(\"id\", \"saver-badge\");\r\n\r\n    document.body.appendChild(createBadge);\r\n\r\n    createBadge.style.width = screenSaver.options.width + \"rem\";\r\n\r\n    createBadge.style.height = screenSaver.options.height + \"rem\";\r\n  }\r\n\r\n  document.getElementsByTagName(\"body\")[0].classList.remove(\"screensaver\");\r\n\r\n  screenSaver.initiated = true;\r\n\r\n  screenSaver.setTimeoutValue = screenSaver.options.timeout;\r\n\r\n  screenSaver.setTimeoutExit = screenSaver.options.timeoutExit;\r\n\r\n  screenSaver.setTimeout = null; //* clear timeout\r\n\r\n  screenSaver.inProgress = false;\r\n\r\n  screenSaver.timerStarted = false;\r\n\r\n  clearTimeout(screenSaver.setTimeout);\r\n\r\n  screenSaver.setTimeout = setTimeout(function () {\r\n    document.getElementsByTagName(\"body\")[0].classList.add(\"screensaver\");\r\n\r\n    screenSaver.inProgress = true;\r\n\r\n    var saverBadge = document.getElementById(\"saver-badge\");\r\n\r\n    clearInterval(screenSaver.setInterval); //* clear badge display interval\r\n\r\n    screenSaver.setInterval = null;\r\n\r\n    //* get dimensions in em\r\n    var windowHeight =\r\n      window.outerHeight /\r\n      parseFloat(\r\n        window\r\n          .getComputedStyle(document.getElementsByTagName(\"body\")[0], null)\r\n          .getPropertyValue(\"font-size\")\r\n      );\r\n\r\n    var windowWidth =\r\n      window.outerWidth /\r\n      parseFloat(\r\n        window\r\n          .getComputedStyle(document.getElementsByTagName(\"body\")[0], null)\r\n          .getPropertyValue(\"font-size\")\r\n      );\r\n\r\n    screenSaver.setInterval = setInterval(function () {\r\n      if (screenSaver.inProgress === true) {\r\n        saverBadge.classList.remove(\"visible\");\r\n\r\n        setTimeout(function () {\r\n          saverBadge.offsetWidth = saverBadge.offsetWidth;\r\n\r\n          saverBadge.classList.add(\"visible\");\r\n        }, 1);\r\n\r\n        var saverTopValue =\r\n          Math.floor(Math.random() * windowHeight) - screenSaver.options.width;\r\n\r\n        var saverLeftValue =\r\n          Math.floor(Math.random() * windowWidth) - screenSaver.options.height;\r\n\r\n        if (saverTopValue <= 0) {\r\n          //* make sure the badge doesn't go off the screen\r\n\r\n          saverTopValue = saverTopValue + 15;\r\n        }\r\n\r\n        if (saverLeftValue <= 0) {\r\n          saverLeftValue = saverLeftValue + 15;\r\n        }\r\n\r\n        saverBadge.style.top = saverTopValue + \"rem\";\r\n\r\n        saverBadge.style.left = saverLeftValue + \"rem\";\r\n\r\n        if (\r\n          screenSaver.timerStarted === false &&\r\n          screenSaver.options.exitTimeout != null\r\n        ) {\r\n          startScreenSaverTimer();\r\n        }\r\n      }\r\n    }, 6000);\r\n  }, screenSaver.setTimeoutValue);\r\n}\r\n\r\nfunction startScreenSaverTimer() {\r\n  screenSaver.timerStarted = true;\r\n\r\n  setTimeout(function () {\r\n    stopScreenSaver();\r\n  }, screenSaver.setTimeoutExit);\r\n}\r\n\r\nfunction stopScreenSaver() {\r\n  startScreenSaver();\r\n\r\n  clearInterval(screenSaver.setInterval);\r\n\r\n  document.getElementsByTagName(\"body\")[0].classList.remove(\"screensaver\");\r\n\r\n  screenSaver.timerStarted = false;\r\n}\r\n\r\nfunction attachScreenSaverEventListeners() {\r\n  var events = [\r\n    \"touchstart\",\r\n    \"mousedown\",\r\n    \"mousemove\",\r\n    \"touchmove\",\r\n    \"keypress\",\r\n    \"scroll\",\r\n  ];\r\n\r\n  var resetScreenSaver = function (e) {\r\n    if (screenSaver.inProgress) {\r\n      e.stopPropagation();\r\n\r\n      e.preventDefault();\r\n    }\r\n\r\n    clearTimeout(screenSaver.setTimeout);\r\n\r\n    clearInterval(screenSaver.setInterval);\r\n\r\n    document.getElementsByTagName(\"body\")[0].classList.remove(\"screensaver\");\r\n\r\n    startScreenSaver();\r\n  };\r\n\r\n  var checkClick = function (e) {\r\n    if (screenSaver.inProgress) {\r\n      startScreenSaver();\r\n    }\r\n  };\r\n\r\n  var bindEvents = function (eventName) {\r\n    document.addEventListener(eventName, screenSaver.initialize);\r\n\r\n    //* bind click as fallback for touchstart and mousedown\r\n    document.addEventListener(\"click\", checkClick);\r\n  };\r\n\r\n  var unbindEvents = function (eventName) {\r\n    document.removeEventListener(eventName, screenSaver.initialize);\r\n  };\r\n\r\n  for (var i = 0; i < events.length; i++) {\r\n    bindEvents(events[i]);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}