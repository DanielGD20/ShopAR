{"ast":null,"code":"import { firestore } from \"../../firebase/admin\";\nexport default ((req, res) => {\n  const {\n    query\n  } = req;\n  const {\n    id\n  } = query;\n  firestore.collection(\"categorias\").doc(id).listCollections().then(subCollections => {\n    subCollections.forEach(subCollection => {\n      subCollection.get().then(snapshot => {\n        let sendData = [];\n        snapshot.docs.forEach(doc => {\n          sendData.push(doc.data());\n        });\n        console.log(sendData);\n        res.json(sendData);\n        res.status(500).end();\n      });\n    });\n  });\n});","map":{"version":3,"sources":["/mnt/c/Users/antho/Desktop/ShopAR/pages/api/items/[id].js"],"names":["firestore","req","res","query","id","collection","doc","listCollections","then","subCollections","forEach","subCollection","get","snapshot","sendData","docs","push","data","console","log","json","status","end"],"mappings":"AAAA,SAASA,SAAT,QAA0B,sBAA1B;AAEA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3B,QAAM;AAAEC,IAAAA;AAAF,MAAYF,GAAlB;AACA,QAAM;AAAEG,IAAAA;AAAF,MAASD,KAAf;AAEAH,EAAAA,SAAS,CACNK,UADH,CACc,YADd,EAEGC,GAFH,CAEOF,EAFP,EAGGG,eAHH,GAIGC,IAJH,CAISC,cAAD,IAAoB;AACxBA,IAAAA,cAAc,CAACC,OAAf,CAAwBC,aAAD,IAAmB;AACxCA,MAAAA,aAAa,CAACC,GAAd,GAAoBJ,IAApB,CAA0BK,QAAD,IAAc;AACrC,YAAIC,QAAQ,GAAG,EAAf;AACAD,QAAAA,QAAQ,CAACE,IAAT,CAAcL,OAAd,CAAuBJ,GAAD,IAAS;AAC7BQ,UAAAA,QAAQ,CAACE,IAAT,CAAcV,GAAG,CAACW,IAAJ,EAAd;AACD,SAFD;AAGAC,QAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACAZ,QAAAA,GAAG,CAACkB,IAAJ,CAASN,QAAT;AACAZ,QAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACD,OARD;AASD,KAVD;AAWD,GAhBH;AAiBD,CArBD","sourcesContent":["import { firestore } from \"../../firebase/admin\";\n\nexport default (req, res) => {\n  const { query } = req;\n  const { id } = query;\n\n  firestore\n    .collection(\"categorias\")\n    .doc(id)\n    .listCollections()\n    .then((subCollections) => {\n      subCollections.forEach((subCollection) => {\n        subCollection.get().then((snapshot) => {\n          let sendData = [];\n          snapshot.docs.forEach((doc) => {\n            sendData.push(doc.data());\n          });\n          console.log(sendData);\n          res.json(sendData);\n          res.status(500).end();\n        });\n      });\n    });\n};\n"]},"metadata":{},"sourceType":"module"}